// AntD-inspired control styles with enhanced interactions
.gf-control {
  width: 100%;
  padding: 4px 11px;
  min-height: var(--gf-control-height-md);
  border-radius: var(--gf-control-radius, var(--gf-radius-sm));
  border: 1px solid var(--gf-control-border-color, var(--gf-border));
  background: var(--gf-control-bg, var(--gf-color-surface));
  color: var(--gf-text);
  font-size: var(--gf-font-size-sm);
  line-height: 1.5714285714285714; // AntD line-height: 22/14
  transition:
    border-color var(--gf-motion-fast) var(--gf-easing),
    box-shadow var(--gf-motion-fast) var(--gf-easing),
    background var(--gf-motion-fast) var(--gf-easing);

  // Placeholder styling (AntD-like)
  &::placeholder {
    color: var(--gf-color-text-tertiary);
    opacity: 1;
  }

  &:hover:not(:disabled):not(.gf-control--disabled) {
    border-color: var(--gf-control-border-color-hover, var(--gf-color-primary));
    background: var(--gf-control-bg-hover, var(--gf-color-surface));
  }

  &:focus,
  &:focus-visible,
  &:focus-within {
    outline: none;
    border-color: var(--gf-control-border-color-focus, var(--gf-color-primary));
    box-shadow: var(--gf-control-shadow-focus, 0 0 0 2px var(--gf-color-primary-soft));
    background: var(--gf-control-bg-focus, var(--gf-color-surface));
  }

  &--ghost {
    background: var(--gf-control-bg, var(--gf-color-surface-raised));
    color: var(--gf-text);
    border-color: var(--gf-control-border-color, var(--gf-color-border-muted));
  }

  &--disabled {
    color: var(--gf-color-text-disabled);
    background: var(--gf-color-fill);
    cursor: not-allowed;

    &::placeholder {
      color: var(--gf-color-text-disabled);
    }
  }

  &--size-small {
    min-height: var(--gf-control-height-sm);
    padding: 0px 7px;
    font-size: var(--gf-font-size-sm);
  }

  &--size-large {
    min-height: var(--gf-control-height-lg);
    padding: 7px 11px;
    font-size: var(--gf-font-size-md);
  }

  &--disabled:hover,
  &--disabled:focus,
  &--disabled:focus-visible,
  &--disabled:focus-within {
    border-color: var(--gf-control-border-color, var(--gf-border));
    box-shadow: none;
  }
}

.gf-field-label {
  font-size: var(--gf-font-size-sm);
  color: var(--gf-text-secondary);
  letter-spacing: 0.01em;
}

/*
 * Flex 对齐工具 / 兜底策略
 *
 * 背景：
 * - 工具栏等容器经常使用 `display: flex` 但未显式设置 `align-items`
 * - 默认的 `align-items: stretch` 可能会把控件（button/tag/segmented 等）
 *   拉伸到不同高度，导致视觉不一致
 *
 * 策略：
 * - 对常用交互控件默认设置 `align-self: center`，在 flex 行内保持自身高度
 * - 当确实需要拉伸时，提供可选覆盖 class
 */

:where(
    .gf-button,
    .gf-tag,
    .gf-segmented,
    .gf-input,
    .gf-select,
    .gf-cascader,
    .gf-checkbox,
    .gf-input-number,
    .gf-dropdown,
    .gf-tooltip,
    .gf-popconfirm,
    .gf-loading,
    .gf-spin,
    .gf-datetime-range-picker
  ) {
  align-self: center;
}

.gf-align-stretch {
  align-self: stretch;
}

.gf-align-start {
  align-self: flex-start;
}

.gf-align-end {
  align-self: flex-end;
}
