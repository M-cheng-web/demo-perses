# Demo Perses - 监控面板系统

基于 Vue3 + TypeScript + Ant Design Vue 的监控面板系统，完整迁移自 Perses 项目核心功能。

## 技术栈

- **框架**: Vue 3.5.24 (Composition API)
- **语言**: TypeScript 5.9.3
- **构建工具**: Vite 7.2.2
- **UI 组件库**: Ant Design Vue 4.2.6
- **状态管理**: Pinia
- **路由**: Vue Router 4.6.3
- **拖拽布局**: vue-grid-layout-v3 3.1.2
- **图表库**: ECharts
- **工具库**: Day.js, Lodash-es, UUID

## 核心功能

### ✅ 已实现功能

1. **面板组管理**
   - ✅ 堆叠布局展示
   - ✅ 折叠/展开功能
   - ✅ 新增/编辑/删除面板组
   - ✅ 上下移动面板组

2. **面板管理**
   - ✅ 网格布局系统（基于 vue-grid-layout-v3）
   - ✅ 拖拽调整位置（编辑模式）
   - ✅ 调整面板尺寸
   - ✅ 新增/编辑/删除/复制面板
   - ✅ 自动对齐网格

3. **图表类型**
   - ✅ 时间序列图（折线图/面积图/柱状图）
   - ✅ 饼图/环形图
   - ✅ 统计值面板

4. **面板编辑器**
   - ✅ 右侧抽屉式编辑器
   - ✅ 基本设置（名称、描述、类型）
   - ✅ 数据查询（PromQL 表达式）
   - ✅ 图表样式配置

5. **数据查询**
   - ✅ Prometheus 数据源模拟
   - ✅ PromQL 查询支持
   - ✅ 多查询支持
   - ✅ 图例格式化

6. **时间范围控制**
   - ✅ 全局时间选择器
   - ✅ 快捷时间范围（5分钟-30天）
   - ✅ 刷新功能

7. **操作模式**
   - ✅ 查看模式（默认）
   - ✅ 编辑模式（显示所有操作按钮）
   - ✅ 保存功能

8. **Mock 数据**
   - ✅ 完整的 Mock 数据层
   - ✅ 模拟 Prometheus 查询
   - ✅ 时间序列数据生成
   - ✅ 预配置示例 Dashboard

## 快速开始

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

访问 http://localhost:3000

### 构建生产版本

```bash
npm run build
```

## 使用说明

### 查看模式

默认进入查看模式，可以：
- 查看所有面板组和面板
- 折叠/展开面板组
- 选择时间范围
- 刷新数据

### 编辑模式

点击右上角"进入编辑"按钮，可以：
- 添加/删除/编辑面板组
- 移动面板组顺序
- 添加/删除/编辑/复制面板
- 拖拽调整面板位置和大小
- 完成后点击"保存"按钮保存更改

### 创建面板

1. 进入编辑模式
2. 点击面板组右上角的"添加面板"按钮
3. 在右侧抽屉中配置：
   - **基本设置**: 名称、描述、类型
   - **数据查询**: PromQL 表达式、图例格式
   - **图表样式**: 单位、小数、平滑曲线、图例等
4. 点击"保存"

## Mock 数据说明

项目使用完整的 Mock 数据系统，无需后端即可运行：

- **默认 Dashboard**: 包含 3 个面板组（CPU、内存、网络与磁盘）
- **模拟指标**: cpu_usage, memory_usage, network_traffic, disk_usage 等
- **时间序列生成**: 根据时间范围自动生成带波动的模拟数据
- **查询延迟**: 模拟 300-800ms 的网络延迟

## 开发计划

详细的开发计划和功能清单请查看 [plan.md](../plan.md)

## 参考项目

本项目参考并迁移自 [Perses](https://github.com/perses/perses) 项目的前端核心功能。

